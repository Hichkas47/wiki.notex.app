"use strict";(self.webpackChunkwiki_notex_app=self.webpackChunkwiki_notex_app||[]).push([[274],{7298:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>p});var a=n(300);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),h=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=h(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=h(n),p=i,m=d["".concat(s,".").concat(p)]||d[p]||c[p]||o;return n?a.createElement(m,r(r({ref:t},u),{},{components:n})):a.createElement(m,r({ref:t},u))}));function p(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var h=2;h<o;h++)r[h]=n[h];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9516:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>h});var a=n(345),i=(n(300),n(7298));const o={sidebar_position:1,description:"An introductory modding guide that will show you how to swap 47's Signature Suit with an NPC."},r="NPC Swap Guide",l={unversionedId:"npc-swap-tutorial",id:"npc-swap-tutorial",title:"NPC Swap Guide",description:"An introductory modding guide that will show you how to swap 47's Signature Suit with an NPC.",source:"@site/docs/npc-swap-tutorial.md",sourceDirName:".",slug:"/npc-swap-tutorial",permalink:"/npc-swap-tutorial",draft:!1,editUrl:"https://github.com/glacier-modding/wiki.notex.app/blob/main/docs/npc-swap-tutorial.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,description:"An introductory modding guide that will show you how to swap 47's Signature Suit with an NPC."},sidebar:"tutorialSidebar",previous:{title:"Home",permalink:"/"},next:{title:"File Formats",permalink:"/glacier2/fileformats"}},s={},h=[{value:"Recommended Reading",id:"recommended-reading",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Background",id:"background",level:2},{value:"Chunk Basics",id:"chunk-basics",level:2},{value:"Finding the Correct Files",id:"finding-the-correct-files",level:2},{value:"Finding the Correct Files (Using Community Resources)",id:"finding-the-correct-files-using-community-resources",level:3},{value:"Finding the Correct Files (Manually)",id:"finding-the-correct-files-manually",level:3},{value:"After Finding the Correct Files",id:"after-finding-the-correct-files",level:2},{value:"Extracting the Files",id:"extracting-the-files",level:2},{value:"Modifying the Files (Manually)",id:"modifying-the-files-manually",level:3},{value:"Modifying the Files (Using Community Resources)",id:"modifying-the-files-using-community-resources",level:3},{value:"Creating a Mod Using Simple Mod Framework",id:"creating-a-mod-using-simple-mod-framework",level:2},{value:"Sharing a Mod",id:"sharing-a-mod",level:2},{value:"TL;DR",id:"tldr",level:2},{value:"Credits",id:"credits",level:2},{value:"Suit Codenames",id:"suit-codenames",level:2},{value:"Suit Level Codename Examples",id:"suit-level-codename-examples",level:2}],u={toc:h};function c(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"npc-swap-guide"},"NPC Swap Guide"),(0,i.kt)("h2",{id:"recommended-reading"},"Recommended Reading"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/glacier2/modding_basics"},"Glacier 2 Modding Basics")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/glacier2/chunkdata"},"Chunk Data"))),(0,i.kt)("h2",{id:"requirements"},"Requirements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://notex.app/rpkg/"},"RPKG Tool")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.nexusmods.com/hitman3/mods/200"},"Simple Mod Framework")),(0,i.kt)("li",{parentName:"ul"},"A program to read and edit JSON files (VSCode is recommended, but any basic code editor will suffice in this scenario as we're only changing a single value at the beginning of the document. Otherwise, QuickEntity Editor is the superior choice when editing QN JSON files)"),(0,i.kt)("li",{parentName:"ul"},"A program to extract and archive ZIP files (such as 7-Zip)")),(0,i.kt)("h2",{id:"background"},"Background"),(0,i.kt)("p",null,"Replacing an outfit requires you to identify an outfit to be replaced as well as an outfit to be replaced by. For the purpose of this tutorial, we will attempt to replace 47\u2019s Signature Suit with that of Silvio Caruso, who is already present in the game's files.\nCreating a mod requires you to create your own ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk")," file, which you then add to the game's files. This can be done in multiple ways. This tutorial uses ",(0,i.kt)("a",{parentName:"p",href:"https://www.nexusmods.com/hitman3/mods/200"},"Simple Mod Framework")," to automate this part, as the modding process is already convoluted enough without this tool.\nEvery outfit in the game has its own TEMP/TBLU combo. TEMP files are Templates whereas TBLU files are Template Blueprints. Note that these files don't actually contain the ",(0,i.kt)("em",{parentName:"p"},"assets"),' of the character\'s outfit, such as models, textures, etc. These files merely serve to point the game to the correct assets to use (hence, why they\'re called "templates", or "TEMP" for short), which are located somewhere other than the TEMP/TBLU files themselves. Therefore, this tutorial only covers replacing outfits that are already present in the game\'s files, and not custom outfits that have to be imported.'),(0,i.kt)("h2",{id:"chunk-basics"},"Chunk Basics"),(0,i.kt)("p",null,"You will notice from ",(0,i.kt)("a",{parentName:"p",href:"/glacier2/modding_basics"},"Glacier 2 Modding Basics"),' that the game\'s data is split into "chunks" numbered chunk0 to chunk27. Also, all chunks will have additional patch chunks (e.g., chunk0patch2). Generally, these chunk files correspond to a location in the game and hold the content that is specific to that level. However, some chunk files contain assets used in most levels and will therefore always be loaded (e.g., chunk0).'),(0,i.kt)("p",null,"For example, if we look at the ",(0,i.kt)("a",{parentName:"p",href:"/glacier2/chunkdata"},"Chunk Data"),", we can see that the content for the Paris level is located in ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk27"),". We can also see that Season 1 is ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk21"),", and Legacy is ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk8"),". Finally, we have ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1")," (Base) and ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0")," (Dubai/Boot). When the game loads a level, it will only load the content needed for that specific level, but the chunks will also be accessed in a specific order. To visualize the relationship between chunks, we can use the ",(0,i.kt)("a",{target:"_blank",href:n(2774).Z},"Hitman 3 Chunk Hierarchy flowchart")," (which was created by Oakheart, based on an earlier chart by invalid). So, if we follow along with the flowchart (starting with chunk27), we can see that the chunks for Paris would be accessed in the following order:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"chunk27 (Paris) -> chunk21 (Season 1) -> chunk8 (Legacy) -> chunk1 (Base) -> chunk0 (Boot).")),(0,i.kt)("p",null,"Note that while chunk0 can be accessed ",(0,i.kt)("em",{parentName:"p"},"from")," anywhere, it is a one-way street; chunks higher in the hierarchy cannot access chunks lower in the hierarchy. The lower the chunk ",(0,i.kt)("em",{parentName:"p"},"number"),", the higher it is in the chunk ",(0,i.kt)("em",{parentName:"p"},"hierarchy"),". Therefore, while chunk1 can access chunk0, chunk0 can not access chunk1, because chunk1 (Level 1) is lower in the hierarchy than chunk0 (Level 0). Furthermore, chunks cannot access adjacent chunks. So, as we can see from the flowchart, chunk12 can not access chunk13, but it can access chunk9."),(0,i.kt)("p",null,"If that all sounds a bit too confusing, don't worry. For now, the important thing is to simply follow the arrows on the flowchart."),(0,i.kt)("p",null,"Using these resources, we can begin to get an idea of where to look for Silvio Caruso's TEMP/TBLU files. We can see that the assets for Sapienza are in chunk26, and since that's a Hitman 1 location, chunk8 (Legacy) and chunk21 (Season1) may also have what we're looking for. Finally, chunk0 (Boot) and chunk1 (Base) are definitely worth checking as well, as these are essentially \"main\" chunks."),(0,i.kt)("p",null,"Another hint: most (if not all) outfit TEMP/TBLU files start with the string ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_")," typically followed by the level's name/codename or character's name, and end with the string ",(0,i.kt)("inlineCode",{parentName:"p"},".pc_entitytemplate"),". While it is important to note that this will only be true for outfits we have the paths for, you are unlikely to run into issues as we do have the paths for almost all of them."),(0,i.kt)("p",null,"Therefore, we need to identify which ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_*****.pc_entitytemplate")," file belongs to Silvio Caruso, and we know it's probably in either chunk0 (Boot), chunk1 (Base), chunk8 (Legacy), chunk21 (Season 1), or chunk26 (Sapienza)."),(0,i.kt)("h2",{id:"finding-the-correct-files"},"Finding the Correct Files"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"https://notex.app/rpkg/"},"RPKG Tool")," allows us to search within the chunk files. Once setup, we can load the chunk files into the tool by using ",(0,i.kt)("inlineCode",{parentName:"p"},"Import")," > ",(0,i.kt)("inlineCode",{parentName:"p"},"Import RPKGs folder")," and pointing it to the ",(0,i.kt)("inlineCode",{parentName:"p"},"HITMAN 3/Runtime")," folder. This will load all the chunk files into the tool, which is required when looking for the correct files. Next, we can search by using the left panel and going to ",(0,i.kt)("inlineCode",{parentName:"p"},"Search")," > ",(0,i.kt)("inlineCode",{parentName:"p"}," Search RPKGs")),(0,i.kt)("p",null,"There are two ways to find the correct files. You can search for them yourself, or you can use community-made resources to quickly find the correct files. Using the community-made resources will save you time as most of the work has been done for you. Note that while this is easier, you will skip some valuable steps in the modding process, which might be useful to know if you decide to make more complex mods. Therefore, if you are creating your first Hitman mod, you are recommended to try and find the correct files yourself."),(0,i.kt)("h3",{id:"finding-the-correct-files-using-community-resources"},"Finding the Correct Files (Using Community Resources)"),(0,i.kt)("p",null,"Now, while we ",(0,i.kt)("em",{parentName:"p"},"could")," search for the files manually, it isn't strictly necessary. Instead, we can use HMBM47's ",(0,i.kt)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/e/2PACX-1vRDiyiqdRebu0Olvvkr20CDhh6ANxu7FOQZ_O-1YHFN9e6kh0WmpbwDYbfgzevSvc3fO4_4Exu1fmQH/pubhtml#"},"Hitman 3 Outfits Spreadsheet"),". We also have grappigegovert (who created the original outfit list) and 2kpr (who compiled a list of the NPCs by their names, their outfits, their pieces, etc.) to thank for this wonderful resource."),(0,i.kt)("p",null,"If we access the ",(0,i.kt)("inlineCode",{parentName:"p"},"Outfits by Character Name")," section of the spreadsheet, we can see each NPC's in-game name is located in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Name")," column on the right, while their outfit's filename is in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Outfit")," column. So, if we simply search for ",(0,i.kt)("inlineCode",{parentName:"p"},"Silvio Caruso")," and then check the ",(0,i.kt)("inlineCode",{parentName:"p"},"Outfit")," column, we can see the filename we're looking for is ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_silviocarusso_actor_v0"),"."),(0,i.kt)("p",null,"If we now go back to RPKG Tool and search for ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_silviocarusso_actor_v0"),", the result should be several files with ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_silviocarusso_actor_vX.entitytemplate].pc_entityblueprint")," in the name, in both ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk8"),"."),(0,i.kt)("p",null,"It is important to note that in some cases, we may not have the hashes available for what you're looking for, and this applies to all files in general. That said, RPKG Tool will notify you whenever there is a new version of the hash list available, so whenever you see this prompt, be sure to click \"OK\" to automatically update to the latest version. In our case, however, the hashes for Caruso's outfit files are known, so we can access them without issue."),(0,i.kt)("h3",{id:"finding-the-correct-files-manually"},"Finding the Correct Files (Manually)"),(0,i.kt)("p",null,"When creating your first Hitman mod, finding the correct files to modify is arguably the biggest initial challenge. So, knowing how to utilize the search function is key."),(0,i.kt)("p",null,"If we search for ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_")," using the ",(0,i.kt)("inlineCode",{parentName:"p"},"Search RPKGs")," function, we get all the chunk files that contain something with this name. If we then expand chunk26 (Sapienza), we can see that it is divided into a TBLU and a TEMP tree. For our purposes, we can ignore TBLU files entirely, as we can only extract what we need using TEMP files. So, if we expand the TEMP tree under chunk26, we can see that the first result is:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"[assembly:/_pro/characters/templates/sapiensa/char_sapienza_unique.template?/outfit_"),(0,i.kt)("strong",{parentName:"p"},"francescadesantis"),(0,i.kt)("inlineCode",{parentName:"p"},"_actor_v0.entitytemplate].pc_entitytemplate"))),(0,i.kt)("p",null,"By name alone, we can derive that this has to be Francesca De Santis' TEMP file, but she's not who we're looking for. Logically, you would expect the string ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_silviocaruso")," to give you Silvio Caruso\u2019s files. However, searching for this doesn\u2019t give any results, meaning the outfit file doesn't match Silvio Caruso\u2019s name (or at least not exactly). Therefore, his outfit must use a different name."),(0,i.kt)("p",null,"Let's take another look at De Santis' outfit string, since Caruso's probably follows a similar pattern:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"[assembly:/_pro/characters/templates/sapiensa/"),(0,i.kt)("strong",{parentName:"p"},"char_sapienza_unique.template"),(0,i.kt)("inlineCode",{parentName:"p"},"?/outfit_francescadesantis_actor_v0.entitytemplate].pc_entitytemplate"))),(0,i.kt)("p",null,"It seems all unique characters (i.e. not generic guards or civilians) in Sapienza should contain the ",(0,i.kt)("inlineCode",{parentName:"p"},"char_sapienza_unique")," string, which we can use to search. Searching for this string yields a decent number of results, and as predicted earlier, all of them are in chunk1 (Base), chunk8 (Legacy), chunk21 (Season 1), and chunk26 (Sapienza). Keep in mind that we can ignore the TBLU tree completely, as we only need to locate Caruso's TEMP file."),(0,i.kt)("p",null,"Starting with ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1"),", we can see there is nothing resembling Silvio Caruso\u2019s name in there, as all files refer to the priest."),(0,i.kt)("p",null,"Next, we can go to ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1patch2")," and start looking through the TEMP results. The first result is the red plumber, the second is the street performer, the third is the caddie, and the fourth is:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"[assembly:/_pro/characters/templates/sapiensa/char_sapienza_unique.template?/charset_silviocarusso.entitytemplate].pc_entitytype")," > ",(0,i.kt)("inlineCode",{parentName:"p"},'"charset_silviocaru'),(0,i.kt)("strong",{parentName:"p"},"ss"),(0,i.kt)("inlineCode",{parentName:"p"},'o.entitytemplate].pc_entitytype"'))),(0,i.kt)("p",null,'So it looks like his name is misspelled with an extra "S" in the game\'s files, which is why ',(0,i.kt)("inlineCode",{parentName:"p"},"outfit_silviocaruso")," was not returning any results.\nWe're getting close, but we need to find the files starting with ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_")," as the files starting with ",(0,i.kt)("inlineCode",{parentName:"p"},"charset_")," will not work for what we are trying to do.\nSo let's try searching ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_silviocarusso"),' (now that we know it includes an extra "S").'),(0,i.kt)("p",null,"Bingo! The result should be several files with ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_silviocarusso_actor_vX.entitytemplate].pc_entityblueprint")," in the name, in both ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk8"),"."),(0,i.kt)("h2",{id:"after-finding-the-correct-files"},"After Finding the Correct Files"),(0,i.kt)("p",null,"As we're specifically looking for Caruso's TEMP file, we can ignore the TBLU results. Since the TEMP files in ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1patch2")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk8")," seem to be duplicates, we can use either of them. But for the sake of this tutorial, let\u2019s use the TEMP files located in ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1patch2"),".\nExpanding the TEMP tree under ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1patch2")," shows us that Silvio Caruso has two outfit variants, as indicated by ",(0,i.kt)("inlineCode",{parentName:"p"},"_v0")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"_v1")," in the filenames. Remember that these TEMP files contain references to the components that are used for a certain outfit. Therefore, by selecting the ",(0,i.kt)("inlineCode",{parentName:"p"},"v1")," variant and checking the ",(0,i.kt)("inlineCode",{parentName:"p"},"Depends on X other hash files/resources")," section in the panel on the right, we can see what the outfit consists of. In this case, we can see the entry:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"[assembly:/_pro/characters/assets/workers/scientist_01/geometry/malereg_"),(0,i.kt)("strong",{parentName:"p"},"hazmatsuit"),(0,i.kt)("inlineCode",{parentName:"p"},"_01.wl2?/shoes.weightedprim](bodypart).pc_weightedprim")),(0,i.kt)("p",null,'This shows us that the v1 variant is Silvio Caruso in a hazmat suit. Therefore, v0 must be his standard suit simply because it\'s the only other option. However, to make sure, we can select the v0 TEMP file in the left box, and examine the outfit components again in the right box. v0 makes no mention of a hazmat suit, but does reference other components we know to be part of Caruso\'s standard suit, like "cigarettepack," "pullover," and "necklace."'),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"[assembly:/_pro/characters/templates/sapiensa/char_sapienza_unique.template?/outfit_silviocarusso_actor_v0.entitytemplate].pc_entitytemplate")),(0,i.kt)("h2",{id:"extracting-the-files"},"Extracting the Files"),(0,i.kt)("p",null,"Now that we have found our outfit's TEMP file, we can start extracting the files we need."),(0,i.kt)("p",null,"You are advised to create a new folder somewhere that will serve as an output folder for the files we will be extracting. This is only a temporary storage space for these files, as we will be moving them to a Simple Mod Framework folder later on."),(0,i.kt)("p",null,"With the correct chunk, TEMP and variant selected, right-click the filename in the left panel and select ",(0,i.kt)("inlineCode",{parentName:"p"},"Extract to QN (QuickEntity) JSON"),". Select the output folder created in the previous step. This will create a JSON file. You can name it whatever you'd like, but make sure it ends with ",(0,i.kt)("inlineCode",{parentName:"p"},".entity.json"),"."),(0,i.kt)("p",null,"Since Caruso's outfit is in ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1")," but our mod will be in ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0"),", we will also need to extract the depends (which are the assets the outfit uses) and ",(0,i.kt)("inlineCode",{parentName:"p"},"patch")," them to chunk0. Remember that while chunk1 can access chunk0, chunk0 can not access chunk1. If we try to run our mod without including the depends it needs, the game will simply crash."),(0,i.kt)("p",null,"While you still have the correct file selected in the left box, left-click ",(0,i.kt)("inlineCode",{parentName:"p"},"Extract Hash Depends")," in the right box, then select ",(0,i.kt)("inlineCode",{parentName:"p"},"Extract Recursive Hash Depends")," and extract them to the same folder as the JSON."),(0,i.kt)("p",null,"The output folder should now have a ",(0,i.kt)("inlineCode",{parentName:"p"},".entity.json")," file and a folder named ",(0,i.kt)("inlineCode",{parentName:"p"},"ALLDEPENDS"),". Inside this folder, you'll find a ",(0,i.kt)("inlineCode",{parentName:"p"},"00873434CB4F9FCD.TEMP")," folder, and then inside that folder, you'll have various ",(0,i.kt)("inlineCode",{parentName:"p"},"chunkX")," folders."),(0,i.kt)("p",null,"When creating suit swaps or modifications, we'll ultimately want to place our mod in ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0")," for two reasons: 1) it's a 'universal' chunk that is read from everywhere, and 2) it contains all of 47's selectable suits. Therefore, we won't need the depends from chunk0 or its patches, so we can go ahead and delete the ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0patch1"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0patch2")," folders."),(0,i.kt)("p",null,"That will leave us with 3 folders: ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1patch2"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk8"),". First, it's important to mention that outfits can only read from the same chunk they reside in. Therefore, if we're swapping an outfit that's located in chunk1, we will only ever need the depends from chunk1 and its patches. So, we can safely delete ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk8"),". Next, we'd usually start by transferring the depends from the patchX chunks to their base chunks. For example, we'd move the depends from ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1patch2")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1"),", and replace anything if it asks. However, in this case, we can see ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1patch2")," only contains a TBLU file and a TEMP file. If we were to restore ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk8"),", we would see that it contains the same TEMP/TBLU pair, which matches what we saw in RPKG Tool. Namely, that ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1patch2")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk8")," contained duplicate TEMP/TBLU pairs. We also know from earlier that TBLU and TEMP files contain outfit templates, but we've already converted Caruso's TEMP/TBLU pair to a QuickEntity JSON, so we no longer need them. Therefore, that only leaves ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1"),"."),(0,i.kt)("p",null,"If we examine the contents of ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk1"),", we can see it contains 5 different folders with various file types. If we check the ",(0,i.kt)("a",{parentName:"p",href:"https://wiki.notex.app/glacier2/fileformats"},"Glacier 2 Engine file formats"),", we can see this chunk appears to include important assets, like meshes (PRIM), bone rigs (BORG), textures (TEXT/TEXD), etc. So, these must be the depends we're looking for. We'll want to move these 5 folders (BORG - TEXT) to the same location as the ",(0,i.kt)("inlineCode",{parentName:"p"},"00873434CB4F9FCD.entity.json")," file we extracted. The chunkX.meta files can be ignored. Once this is done, you can delete the ",(0,i.kt)("inlineCode",{parentName:"p"},"ALLDEPENDS")," folder and its remaining content."),(0,i.kt)("p",null,"You should now have the ",(0,i.kt)("inlineCode",{parentName:"p"},"00873434CB4F9FCD.entity.json")," file and 5 folders (BORG - TEXT) in the output folder."),(0,i.kt)("h3",{id:"modifying-the-files-manually"},"Modifying the Files (Manually)"),(0,i.kt)("p",null,"The next step is to find the TEMP and TBLU hash values for the outfit that is to be replaced: the default Signature Suit. All of 47's suits begin with the string ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_agent47"),", and as mentioned earlier, they are all located in ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0"),". Therefore, you can search for the string ",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_agent47")," using RPKG Tool's ",(0,i.kt)("inlineCode",{parentName:"p"},"Search RPKGs")," function, and then examine the results in ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0patch1"),", or ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0patch2"),". Many of the filenames will match up with the suit's in-game name, but many will not. Some suits have their own codenames","*",", and some use the codename for the level they're from","*","*",". Finally, you'll notice that many suits have both an ",(0,i.kt)("inlineCode",{parentName:"p"},"actor")," and a ",(0,i.kt)("inlineCode",{parentName:"p"},"heroa")," variant. The actor variants are for NPCs, while the heroa variant is specifically for 47, so you'll always want to use the heroa variants when creating NPC or outfit swaps."),(0,i.kt)("p",null,"In this case, the default Signature Suit is fairly easy to find, as it's the second result in the chunk0 TEMP tree and matches up with the in-game name (",(0,i.kt)("inlineCode",{parentName:"p"},"outfit_agent47_signaturesuit_heroa_v0"),"). If we look at the result in the left box, we can see it begins with ",(0,i.kt)("inlineCode",{parentName:"p"},"00FF8C6314EA882E.TEMP"),", so the value we're looking for is ",(0,i.kt)("inlineCode",{parentName:"p"},"00FF8C6314EA882E"),". Make a note of this TEMP hash."),(0,i.kt)("p",null,"Next, we will want to locate the TBLU value. In this case, since we still have the results in chunk0 open, we can simply access the entry in the TBLU tree instead. We can see the TBLU is named ",(0,i.kt)("inlineCode",{parentName:"p"},"0046BB3BE76661CC.TBLU"),", so the value we're looking for is ",(0,i.kt)("inlineCode",{parentName:"p"},"0046BB3BE76661CC"),". Make a note of this TBLU hash as well."),(0,i.kt)("h3",{id:"modifying-the-files-using-community-resources"},"Modifying the Files (Using Community Resources)"),(0,i.kt)("p",null,"Alternatively, we can use HMBM47's ",(0,i.kt)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/e/2PACX-1vRDiyiqdRebu0Olvvkr20CDhh6ANxu7FOQZ_O-1YHFN9e6kh0WmpbwDYbfgzevSvc3fO4_4Exu1fmQH/pubhtml#"},"Hitman 3 Outfits Spreadsheet"),", only this time, we'll access the ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0 47 Base Suits")," section. As before, we'll see each suit's in-game name in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Name")," column, and the suit's filename in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Outfit")," column. However, we'll need the TEMP and TBLU hashes rather than the filename, so we can locate them in the ",(0,i.kt)("inlineCode",{parentName:"p"},"TEMP")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"TBLU")," columns, respectively. First, if we search for ",(0,i.kt)("inlineCode",{parentName:"p"},"Signature Suit"),", we can determine which is the default version and which is the gloved version by looking at either the ",(0,i.kt)("inlineCode",{parentName:"p"},"Notes")," column, or the filename in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Outfit")," column. Next, we can identify the outfit's TEMP by looking at the TEMP column on the left, which is ",(0,i.kt)("inlineCode",{parentName:"p"},"00FF8C6314EA882E.TEMP"),". Therefore, the TEMP hash we need is ",(0,i.kt)("inlineCode",{parentName:"p"},"00FF8C6314EA882E"),". We can then do the same for the outfit's TBLU by examining the TBLU column, which gives us ",(0,i.kt)("inlineCode",{parentName:"p"},"0046BB3BE76661CC.TBLU"),". Therefore, the TBLU hash we need is ",(0,i.kt)("inlineCode",{parentName:"p"},"0046BB3BE76661CC"),"."),(0,i.kt)("p",null,"In either case, once you have the TEMP and TBLU hashes, the next step is to open the ",(0,i.kt)("inlineCode",{parentName:"p"},"00873434CB4F9FCD.entity.json")," file (which we previously exported) using a code editor. You'll see it starts with: ",(0,i.kt)("inlineCode",{parentName:"p"},'{"tempHash":"00873434CB4F9FCD","tbluHash": "00945FFF47BBBDE3",')," All we need to do is replace the tempHash and tbluHash values in this string with the ones we obtained in the previous step. Therefore, we would change ",(0,i.kt)("inlineCode",{parentName:"p"},'"tempHash":"00873434CB4F9FCD"')," to ",(0,i.kt)("inlineCode",{parentName:"p"},'"tempHash":"00FF8C6314EA882E"')," and ",(0,i.kt)("inlineCode",{parentName:"p"},'"tbluHash":"00945FFF47BBBDE3"')," to ",(0,i.kt)("inlineCode",{parentName:"p"},'"tbluHash":"0046BB3BE76661CC"')),(0,i.kt)("p",null,"The end result should be: ",(0,i.kt)("inlineCode",{parentName:"p"},'{"tempHash":"00FF8C6314EA882E","tbluHash":"00945FFF47BBBDE3"')),(0,i.kt)("p",null,"Make sure you keep the file syntax intact, as even a single extra space or period will break it. Save the file."),(0,i.kt)("p",null,"Optionally, one way to format the JSON file for easier editing is to import it into ",(0,i.kt)("a",{parentName:"p",href:"https://www.dropbox.com/s/p1mkwm3ji0uyr8n/QuickEntityEditor.7z?dl=1"},"QuickEntity Editor"),' and then save it using "Save Entity". This will convert it from one giant block of text to something that is much easier to browse and edit, especially for more complex edits.'),(0,i.kt)("h2",{id:"creating-a-mod-using-simple-mod-framework"},"Creating a Mod Using Simple Mod Framework"),(0,i.kt)("p",null,"There's only one step left, and that's creating the actual mod using Atampy26's ",(0,i.kt)("a",{parentName:"p",href:"https://www.nexusmods.com/hitman3/mods/200"},"Simple Mod Framework"),' (which will hereon be referred to as "SMF"). When you enable the mod in SMF, it will automatically generate a chunk file for you, which eliminates the need to pack one yourself.'),(0,i.kt)("p",null,"If you follow along with the installation instructions, the SMF folder will be located at ",(0,i.kt)("inlineCode",{parentName:"p"},"HITMAN 3\\Simple Mod Framework"),". If you then access the ",(0,i.kt)("inlineCode",{parentName:"p"},"Info")," folder, you'll see that SMF includes all the documentation you would need to set up your mod. However, we'll quickly go over the basics here."),(0,i.kt)("p",null,"First, you'll want to access the ",(0,i.kt)("inlineCode",{parentName:"p"},"Mods")," folder located at ",(0,i.kt)("inlineCode",{parentName:"p"},"HITMAN 3\\Simple Mod Framework\\Mods"),". Here, you'll see SMF already comes with a mod included, ",(0,i.kt)("inlineCode",{parentName:"p"},"Realistic AI"),". If we open up that folder, we'll see it includes a JSON named ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json"),". As the name implies, this is the mod's manifest, and includes information such as the mod's name, author's name, version number, content folder(s), etc. If we then open up any of the content-","*","*","*","*","*","*"," folders, we'll see they all include a ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0")," folder, and inside that, there's another JSON. By examining Realistic AI, we can see how a SMF mod is structured, so we can use that as a template for our own mod."),(0,i.kt)("p",null,"Let's make a copy of the Realistic AI folder, and then name that copy ",(0,i.kt)("inlineCode",{parentName:"p"},"Silvio Caruso Swap"),". Next, we'll open that folder and delete the 3 content-",(0,i.kt)("strong",{parentName:"p"},"*","*")," folders. The folder structure for our mod will be quite simple, as it only includes one option. So, we'll create a folder within the Silvio Caruso Swap folder named ",(0,i.kt)("inlineCode",{parentName:"p"},"content"),", and then inside the content folder, we'll create another folder named ",(0,i.kt)("inlineCode",{parentName:"p"},"chunk0"),". This chunk0 folder is where we're going to place the 5 depends folders and the ",(0,i.kt)("inlineCode",{parentName:"p"},"00873434CB4F9FCD.entity.json")," file from earlier. So, all we need to do is access that folder, and move the contents to the chunk0 folder."),(0,i.kt)("p",null,"The final piece of the puzzle is the mod's manifest. We can either modify Realistic AI's manifest.json, or create our own. For the purpose of this tutorial, let's open the existing manifest.json and erase the contents. Then, if we access the ",(0,i.kt)("inlineCode",{parentName:"p"},"Manifest.md")," document located at ",(0,i.kt)("inlineCode",{parentName:"p"},"HITMAN 3\\Simple Mod Framework\\Mods"),", we can see it gives the following example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "version": "1.0.0",\n    "id": "YourNameOrUserName.FirstMod",\n    "name": "Your First Mod",\n    "description": "Extremely good description",\n    "authors": ["YourNameOrUserName"],\n    "contentFolder": "content",\n    "frameworkVersion": "1.5.7"\n}\n')),(0,i.kt)("p",null,'The "frameworkVersion" will change depending on what version of SMF you\'re using. As of this writing, the current version is 1.5.7.'),(0,i.kt)("p",null,"If we copy this section and paste it into our ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json"),", we can then change the version, id, name, description, and authors to our liking. You can call it whatever you'd like, just make sure to only modify the text within the quotation marks. This needs to follow proper JSON syntax, including all quotation marks, commas, brackets, etc. If the syntax is incorrect, SMF will be unable to load any mods at all, and the mod list will appear blank. If you ever run into this issue, the ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json")," for one of your mods is likely broken."),(0,i.kt)("p",null,"When you're done modifying the example to your liking, you should have something like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "version": "1.0.0",\n    "id": "HitmanModder.SilvioCarusoSwap",\n    "name": "Silvio Caruso Swap",\n    "description": "Swaps 47\'s Signature Suit with Silvio Caruso.",\n    "authors": ["HitmanModder"],\n    "contentFolder": "content",\n    "frameworkVersion": "1.5.7"\n}\n')),(0,i.kt)("p",null,"Save the manifest.json file, and open up SMF's Mod Manager, which can be accessed at either ",(0,i.kt)("inlineCode",{parentName:"p"},"\\HITMAN 3\\Simple Mod Framework\\Mod Manager.cmd")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"\\HITMAN 3\\Simple Mod Framework\\Load Order Manager\\Load Order Manager.exe"),". If your ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json")," was set up correctly, you should see your mod listed in the Available Mods section on the left. If it's missing, there must be an issue with your ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json"),", so you would need to go back and compare with either the included manifest example, or Realistic AI's ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json"),"."),(0,i.kt)("p",null,'If your mod appears on the list, all you need to do is click the "Enable" button next to it, and then the "Apply Enabled Mods" button at the top. This will deploy your mod, and any other mods you have enabled. The only thing left to do is launch Hitman 3, and load into a level with 47\'s Signature Suit. If you\'ve done everything correctly, Silvio Caruso will be in 47\'s place.'),(0,i.kt)("p",null,"Congrats! You are now an official modder :)"),(0,i.kt)("h2",{id:"sharing-a-mod"},"Sharing a Mod"),(0,i.kt)("p",null,"If you have followed the instructions above correctly, you should now have a folder with your mod in your ",(0,i.kt)("inlineCode",{parentName:"p"},"HITMAN 3\\Simple Mod Framework\\Mods")," folder. To share this mod, simply add the Silvio Caruso Swap folder to a ZIP file. Note that it must be in the ZIP format, as other compression formats like RAR or 7z will not work. This ZIP file can now be shared with friends or uploaded to ",(0,i.kt)("a",{parentName:"p",href:"https://www.nexusmods.com/hitman3"},"Nexus Mods"),". To install your mod, the end user only needs to\xa0import the ZIP file using SMF."),(0,i.kt)("p",null,"When uploading mods to Nexus Mods, there are a few things to keep in mind. First, you'll want to make sure that what you're uploading is unique and has not already been released by another modder. For example, since azirus3 has already uploaded an NPC swap pack that includes Silvio Caruso, we probably wouldn't want to upload our swap as a stand-alone mod. Also, you'll want to consider if what you're releasing will need its own stand-alone page and will appeal to as many users as possible. For example, if we were to create a number of small suit modifications and release them all as separate mods, it could lead to a lot of clutter (think ReShade presets). But if we were to collect all those modifications\xa0and release them as a single mod, not only would it make things less cluttered, but it would also be easier for the end user as everything would be available in one place."),(0,i.kt)("p",null,"Of course, you are free to release whatever you'd like as long as it doesn't break any rules or include other people's work without their permission. These are only guidelines for those new to the modding scene."),(0,i.kt)("h2",{id:"tldr"},"TL;DR"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Import Hitman 3's Runtime folder into RPKG Tool."),(0,i.kt)("li",{parentName:"ol"},"Find the outfit","_","*","*","*","*","*","*"," TEMP file for the outfit/NPC you're looking for."),(0,i.kt)("li",{parentName:"ol"},"Extract both the TEMP's QuickEntity JSON and the recursive hash depends to the chunk0 folder in your Simple Mod Framework mod."),(0,i.kt)("li",{parentName:"ol"},"Find the TEMP and TBLU values for the suit you want to replace."),(0,i.kt)("li",{parentName:"ol"},"Open the outfit's ","*","*","*","*","*","*",".entity.json and replace its tempHash and tbluHash values with the values you found in step 4."),(0,i.kt)("li",{parentName:"ol"},"Open the ","*","*","*","*","*","*",".TEMP folder within the ALLDEPENDS folder. You will only need the depends from the chunk the suit is in (e.g. if the suit is in chunk1, you will only need the files from chunk1 and its patches). Move everything in each patchX folder to the outfit's base chunkX folder (e.g. chunk1patch1 to chunk1, then chunk1patch2 to chunk1, overwriting anything in the base chunk if necessary)."),(0,i.kt)("li",{parentName:"ol"},"Move all the depends from the outfit's base chunkX folder to the chunk0 folder in your SMF mod (the same place your ","*","*","*","*","*","*",".entity.json is located)."),(0,i.kt)("li",{parentName:"ol"},"Delete whatever remains in the ALLDEPENDS folder."),(0,i.kt)("li",{parentName:"ol"},"Make sure the folder structure for your Simple Mod Framework mod is correct, with the JSON/depends in a chunk0 folder, and make sure there are no errors in your mod's manifest.json."),(0,i.kt)("li",{parentName:"ol"},'Enable the mod in Simple Mod Framework and then click "Apply Enabled Mods".')),(0,i.kt)("h2",{id:"credits"},"Credits"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Metaphoria")," - Tutorial author."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Oakheart")," - Editing, conversion to markdown, and the V2 chunk flowchart."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"invalid")," - Original chunk flowchart, on which V2 was based."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Notex"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"REDACTED"),", ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/glacier-modding/RPKG-Tool/graphs/contributors"},"and all RPKG contributors")," - RPKG Tool."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"HMBM47")," - Hitman 3 Outfits spreadsheet. The original lists were created by grappigegovert and 2kpr, which were then formatted, expanded, organized, and later added to by HMBM47."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"grappigegovert"),"- Original outfit list."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"2kpr")," - Compiled a list of the NPCs by their names, their outfits, their pieces, etc."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Atampy26")," - Simple Mod Framework, QuickEntity, and QuickEntity Editor."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/glacier-modding/wiki.notex.app/graphs/contributors"},"All contributors to wiki.notex.app")),(0,i.kt)("h2",{id:"suit-codenames"},"Suit Codenames"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"birthsuit = Premiere White Suit\nlifesuit = Crimson Red Suit\ndeathsuit = Ultimate Black Suit\n[color]specialsuit = All Platform Specific Suits (e.g. blackspecialsuit = The Black Streak)\nhotsummersuit = Summer Suave Suit\nnewzealandsuit = Tactical Wetsuit\nnorthamericasuit = Suburban Suit\nnorthseasuit = Tuxedo and Mask\noutdoor = Snow Festival Suit/Intro Suit\nprologue = Tactical Turtleneck\ns1challengesnormalall = Classic All-Black Suit\ns1elusive = Black Winter Suit\ns2elusivesa1 = The Undying Look\ns2elusive15 = Casual Undercover\nsnakecharmer = The Cashmerian\nspring_break = Blue Flamingo Suit\nwolverine = Subject 47\nsummersuit = Summer Sightseeing Suit\n")),(0,i.kt)("h2",{id:"suit-level-codename-examples"},"Suit Level Codename Examples"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"bulldog = Dartmoor (e.g. outfit_agent47_bulldog_heroa_v0 = Classic Cut Long Coat Suit)\nfox = Berlin (e.g. outfit_agent47_fox_gloves_heroa_v0 = Number Six with Gloves)\nstingray = Haven Island (stingray_heroa = The Tropical Islander, stingray_reward = The Tropical Suit)\n")))}c.isMDXComponent=!0},2774:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/files/Chunk_Data_Diagram-003779a15826483eb79f7cda7270d9fe.svg"}}]);